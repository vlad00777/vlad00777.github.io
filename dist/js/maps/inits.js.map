{"version":3,"sources":["init.js","my.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9hCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inits.js","sourcesContent":["window.wHTML = (function($){\n\n        /* Приватные переменные */\n\n        var varSeoIframe = 'seoIframe',\n            varSeoTxt = 'seoTxt',\n            varSeoClone = 'cloneSeo',\n            varSeoDelay = 200;\n        /* Приватные функции */\n\n\n        /* проверка типа данных на объект */\n        var _isObject = function(data) {\n                var flag = (typeof data == 'object') && (data+'' != 'null');\n                return flag;\n            },\n\n        /* создание нового элемента элемента */\n            _crtEl = function(tag, classes, attrs, jq) {\n                var tagName = tag || 'div';\n                var element = document.createElement(tagName);\n                var jQueryElement = jq || true;\n                // если классы объявлены - добавляем\n                if (classes) {\n                    var tagClasses = classes.split(' ');\n                    for (var i = 0; i < tagClasses.length; i++) {\n                        element.classList.add(tagClasses[i]);\n                    }\n                }\n                // если атрибуты объявлены - добавляем\n                if (_isObject(attrs)) {\n                    for (var key in attrs) {\n                        var val = attrs[key];\n                        element[key] = val;\n                    }\n                }\n                // возвращаем созданый елемент\n                if (jQueryElement) {\n                    return $(element);\n                } else {\n                    return element;\n                }\n            },\n\n        /* создаем iframe для сео текста */\n            _seoBuild = function(wrapper) {\n                var seoTimer;\n                // создаем iframe, который будет следить за resize'm окна\n                var iframe = _crtEl('iframe', false, {id: varSeoIframe, name: varSeoIframe});\n                iframe.css({\n                    'position':'absolute',\n                    'left':'0',\n                    'top':'0',\n                    'width':'100%',\n                    'height':'100%',\n                    'z-index':'-1'\n                });\n                // добавляем его в родитель сео текста\n                wrapper.prepend(iframe);\n                // \"прослушка\" ресайза\n                seoIframe.onresize = function() {\n                    clearTimeout(seoTimer);\n                    seoTimer = setTimeout(function() {\n                        wHTML.seoSet();\n                    }, varSeoDelay);\n                };\n                // вызываем seoSet()\n                wHTML.seoSet();\n            };\n\n        /* Публичные методы */\n\n        function Methods(){}\n\n        Methods.prototype = {\n\n            /* установка cео текста на странице */\n            seoSet: function() {\n                if ($('#'+varSeoTxt).length) {\n                    var seoText = $('#'+varSeoTxt);\n                    var iframe = seoText.children('#'+varSeoIframe);\n                    if (iframe.length) {\n                        // если iframe сущствует устанавливаем на место сео текст\n                        var seoClone = $('#'+varSeoClone);\n                        if (seoClone.length) {\n                            // клонеру задаем высоту\n                            seoClone.height(seoText.outerHeight(true));\n                            // тексту задаем позицию\n                            seoText.css({\n                                top: seoClone.offset().top\n                            });\n                        } else {\n                            // клонера нету - бьем в колокола !!!\n                            console.error('\"'+varSeoClone+'\" - не найден!');\n                        }\n                    } else {\n                        // если iframe отсутствует, создаем его и устанавливаем на место сео текст\n                        _seoBuild(seoText);\n                    }\n                }\n            },\n\n            /* magnificPopup ajax */\n            mfiAjax: function() {\n                $('body').magnificPopup({\n                    delegate: '.popup-link',\n                    callbacks: {\n                        elementParse: function(item) {\n                            this.st.ajax.settings = {\n                                url: '/_HTML/dist/' + item.el.data('url'),\n                                type: 'POST',\n                                data: (typeof item.el.data('param') !== 'undefined') ? item.el.data('param') : ''\n                            };\n                        },\n                        ajaxContentAdded: function(el) {\n                            wHTML.validation();\n                        }\n                    },\n                    type: 'ajax',\n                    removalDelay: 300,\n                    mainClass: 'zoom-in'\n                });\n            },\n\n            mfi: function () {\n                $('.mfi').magnificPopup({\n                    type: 'inline',\n                    closeBtnInside: true,\n                    removalDelay: 300,\n                    mainClass: 'zoom-in'\n                });\n            },\n        };\n\n        /* Объявление wHTML и базовые свойства */\n\n        var wHTML = $.extend(true, Methods.prototype, {});\n\n        return wHTML;\n\n    })(jQuery);\n\njQuery(document).ready(function(){\n    \n    // $('.filter-button').on('click',function(){\n    //     var el = $(this);\n    //     var cl = el.data('block');\n    //     $('.'+cl).stop().slideToggle();\n    // });\n\n    wHTML.mfi();\n    wHTML.seoSet();\n    \n    $(window).resize(function(){\n            if (Modernizr.mq(\"screen and (max-width:980px)\")) {\n                $('.universal-tabs li').matchHeight();\n            } else{\n                $('.universal-tabs li').removeAttr('style');\n            }\n\n            if (Modernizr.mq(\"screen and (min-width:979px)\")) {\n                $('.search-form-category').removeAttr('style');\n            }\n    });\n    \n    $(\".search-form-category select\").on(\"change\",function () {\n        if($(this).val() == \"0\") $(this).addClass(\"empty\");\n        else $(this).removeClass(\"empty\")\n    });\n    \n    $(\".search-form-category select\").change();\n    \n    function recount(){\n        var totalPrice = 0;\n        $('.up-variants .block input:checkbox:checked').each(function(index,el){\n            if ($(el).closest('.block').find('.price span').text() != 'Бесплатно') {\n                totalPrice += parseInt($(el).closest('.block').find('.price span').text());\n            }\n        });\n        $('.up-variants .results .count').text(totalPrice);\n    }\n    \n    recount();\n\n    \n    $('.fbb1Item4 select').select2({\n        dropdownCssClass: \"fbb1Item4Select\"\n    }).on('change', function() {  \n    \tif($(this).val()){\n\t    \t\t$(this).parent().addClass('selectStyle')\n\t    \t}else{\n\t    \t\t$(this).parent().removeClass('selectStyle')\n\t    \t}\n        if ($(this).parents().hasClass('wForm')) {\n            $(this).closest('.wForm').data('validator').element($(this));\n        }\n        if (this.id === 'periodSelect' && $('.type-top .price span').length) {\n            console.log($(this).select2('data')[0].element.dataset.day);\n            $('.type-top .price span').text($(this).select2('data')[0].element.dataset.day*$('#periodSelect').attr('data-perDay'));\n            if (!$('.type-top input').attr('checked')) {\n                $('.type-top input').prop('checked', true);\n                $('.type-top input').closest('.block').addClass('checked');\n            }\n        }\n        recount();\n        });\n    \n    $('.setting-blocks .add_phone').on('click', function(e){\n        $('.setting-blocks .flr').append('<div class=\"wFormRow\"><label class=\"wLabel -warn\">Контактный телефон</label><div class=\"wFormInput\"><input type=\"tel\" data-name=\"phone\" class=\"wInput\" name=\"phone2\" data-msg-required=\"Это поле необходимо заполнить\" data-msg-phone=\"Пожалуйста, введите корректный номер\" data-rule-phone=\"true\" value=\"\" required=\"\" aria-required=\"true\"></div></div>');\n        $('.setting-blocks .flr').find('.add_phone').remove();\n    });\n    \n    $('.up-variants .block .main').matchHeight();\n    \n    $('.up-variants .head').on('change','input',function(){\n        var el = $(this);\n        if(this.checked) {\n            el.closest('.block').addClass('checked');\n            recount();\n        } else{\n            el.closest('.block').removeClass('checked');\n            recount();\n        }\n    });\n    \n    $(\"#my-awesome-dropzone\").dropzone({\n\t    url: \"/\",\n        acceptedFiles: '.jpg, .png, .jpeg, .gif',\n        maxFilesize: 16, //Mb\n        maxFiles: 15,\n        addRemoveLinks: true,\n        thumbnailWidth: 25,\n        thumbnailHeight: 20,\n        dictDefaultMessage:\"Прикрепить файл\"\n\t  });\n    \n\n    \n    if($('.my-type').length > 0) {\n        $('.catalog-list_item.deleted').each(function(index,element){\n            $(element).closest('.catalog-list_item').find('.removed').stop().show();\n        });\n    }\n    \n    $('body').on('click', '.remove-ad', function(e){\n        e.preventDefault();\n        var el = $(this);\n        //ajax remove ad\n        el.closest('.catalog-list_item').append('<div class=\"removed\"><div class=\"r-inner\"><div class=\"r-title\">Это объявление удалено!</div><div class=\"r-desc\">В течении 20 мин. Вы можете его</div><a href=\"#\" class=\"gray-button\">Востановить</a></div></div>');\n        el.closest('.catalog-list_item').addClass('deleted');\n        el.closest('.catalog-list_item').find('.removed').stop().fadeIn(400);\n    });\n    \n    \n    $('body').on('click', '.r-inner .gray-button', function(e){\n        e.preventDefault();\n        var el = $(this);\n        //ajax release ad\n        el.closest('.catalog-list_item').removeClass('deleted');\n        el.closest('.catalog-list_item').find('.removed').stop().fadeOut(400, function(){\n            el.closest('.catalog-list_item').find('.removed').remove();\n        });\n    });\n\n    // magnificPopup ajax\n    wHTML.mfiAjax();\n\n    // валидация форм\n\n    wHTML.validation();\n\n    $('body').on('click', '.add_to_wish_list', function(e){\n        e.preventDefault();\n        $(this).find('.star').toggleClass('star--active');\n    });\n    \n    $('body').on('click', '.add-favorite', function(e){\n        e.preventDefault();\n        $(this).toggleClass('active');\n    });\n\n    $('.search-form_location').on('click', function(e){\n        e.preventDefault();\n\n        $('.location-list').toggleClass('location-list--visible');\n    });\n\n    var isOffsetNavVisible = false;\n\n    // $('.hamburger-button').on('click', function(){\n    //     if(isOffsetNavVisible){\n    //         isOffsetNavVisible = false;\n    //         $('.offset-nav').removeClass('offset-nav--active');\n    //         $('.offset-overlay').removeClass('offset-overlay--show');\n    //     } else {\n    //         isOffsetNavVisible = true;\n    //         $('.offset-nav').addClass('offset-nav--active');\n    //         $('.offset-overlay').addClass('offset-overlay--show');\n    //     }\n    // });\n\n    $('.offset-overlay').on('click', function(){\n        isOffsetNavVisible = false;\n        $('.offset-nav').removeClass('offset-nav--active');\n        $('.offset-overlay').removeClass('offset-overlay--show');\n    });\n\n    $('.offset-nav_list-item--has-child > a').on('click', function(e){\n        e.preventDefault();\n\n        $(this).next().slideToggle(200);\n    });\n\n    $(\"body\").swipe( {\n        swipe:function(event, direction, distance, duration, fingerCount, fingerData) {\n            if(direction == 'left') {\n                $('.offset-nav').removeClass('offset-nav--active');\n                $('.offset-overlay').removeClass('offset-overlay--show');\n            }\n        }\n    });\n\n    $('.tab-nav_link').on('click', function(e){\n        e.preventDefault();\n        var tabID = $(this).data('tab');\n        $(this).addClass('tab-nav_link--current').siblings().removeClass('tab-nav_link--current');\n        $('.tab-content[data-tab=\"'+tabID+'\"]').addClass('tab-content--current').siblings().removeClass('tab-content--current');\n    });\n\n    $('body').on('click', '.phone-list_show', function(e){\n        e.preventDefault();\n        $(this).closest('.phone-list').find('a span').css('opacity', '1');\n        $(this).hide(0);\n    });\n\n    $('.slider-main').slick({\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        arrows: false,\n        asNavFor: '.slider-preview'\n    });\n\n    $('.slider-preview').slick({\n        slidesToShow: 3,\n        slidesToScroll: 1,\n        arrows: true,\n        vertical: true,\n        focusOnSelect: true,\n        asNavFor: '.slider-main',\n        responsive: [\n            {\n                breakpoint: 1024,\n                settings: {\n                    vertical: false,\n                    slidesToShow: 5\n                }\n            },\n            {\n                breakpoint: 720,\n                settings: {\n                    vertical: false,\n                    slidesToShow: 4\n                }\n            },\n            {\n                breakpoint: 560,\n                settings: {\n                    vertical: false,\n                    slidesToShow: 3\n                }\n            }\n        ]\n    });\n\n    $('body').on('keyup', 'input.wInput', function(){\n        var label = $(this).closest('.wFormRow').find('.wLabel');\n        var value = $(this).val();\n\n        if(label.hasClass('-warn')){\n            if(value.length > 0) {\n                label.removeClass('-warn').addClass('-success');\n            }\n        } else if(label.hasClass('-success')) {\n            if(value.length < 1) {\n                label.removeClass('-success').addClass('-warn');\n            }\n        }\n    });\n\n    $('body').on('click', '.double-button', function(e){\n        e.preventDefault();\n        var row = $(this).closest('.-double');\n        var newRow = row.clone().removeClass('hint');\n\n        newRow.find('.double-button').removeClass('double-button').addClass('dell-button');\n\n        newRow.insertAfter(row);\n\n        initInputMask();\n    });\n\n    $('body').on('click', '.dell-button', function(e){\n        e.preventDefault();\n       $(this).closest('.-double').remove();\n    });\n\n    // map\n\n    var geocoder;\n    var map;\n    var plases = [];\n    var markers = [];\n\n    var mapTimeout;\n\n    $('.map-field').on('keyup', function(e){\n        var address = $(this).val();\n\n        clearTimeout(mapTimeout);\n\n        mapTimeout = window.setTimeout(function(){\n            plases.length = 0;\n            initialize();\n            codeAddress(address);\n        }, 1000);\n    });\n\n    function initialize() {\n        geocoder = new google.maps.Geocoder();\n        var lat;\n        var long;\n        if($('#latitude').val() != ''){\n            lat = $('#latitude').val();\n        } else{\n            lat=46.658627;\n        }\n        if($('#longitude').val() != ''){\n            long = $('#longitude').val();\n        } else{\n            long=32.60396;\n        }\n        var latlng = new google.maps.LatLng(lat,long);\n        var myOptions = {\n            disableDefaultUI: false,\n            zoom: 12,\n            center: latlng,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n\n        if(lat != 46.658627 && long!=32.60396 && $('.map-field').val() != ''){\n            var address = $('.map-field').val();\n            geocoder.geocode( { 'address': address}, function(results, status) {\n                clearMap();\n                plases = results;\n\n                if (status == google.maps.GeocoderStatus.OK) {\n                    for (var i = 0; i < plases.length; i++) {\n                        var marker = new google.maps.Marker({\n                            map: map,\n                            position: plases[i].geometry.location\n                        });\n                        markers.push(marker);\n                    }\n                }\n            });\n        }\n\n\n        map = new google.maps.Map(document.getElementById(\"addition-map\"), myOptions);\n    }\n\n    function codeAddress(address) {\n        geocoder.geocode( { 'address': address}, function(results, status) {\n            clearMap();\n            plases = results;\n\n            if (status == google.maps.GeocoderStatus.OK) {\n                for (var i = 0; i < plases.length; i++) {\n                    var marker = new google.maps.Marker({\n                        map: map,\n                        position: plases[i].geometry.location\n                    });\n                    $('#latitude').val( plases[i].geometry.location.lat() );\n                    $('#longitude').val( plases[i].geometry.location.lng() );\n                    markers.push(marker);\n                }\n            }\n        });\n    }\n\n    function clearMap() {\n        for (var i = 0; i < markers.length; i++) {\n            markers[i].setMap(null);\n        }\n    }\n\n    if($('#addition-map').length) {\n        initialize();\n    }\n\n    function initInputMask() {\n        var date = [{\n            \"mask\": \"\\+38\\ \\(###\\)\\ ###\\-##\\-##\"\n        }];\n\n        $('.inputmask').inputmask({\n            mask: date,\n            definitions: {\n                '#': {\n                    validator: \"[0-9]\",\n                    cardinality: 1\n                }\n            }\n        });\n    }\n\n    if ($(\".inputmask\").length) {\n        initInputMask();\n    }\n\n    $('body').on('click', '#forget_pass', function(event) {\n        $('#entrForm').removeClass('visForm');\n        $('#forgetForm').addClass('visForm');\n    });\n\n    $('body').on('click', '#remember_pass', function(event) {\n        $('#forgetForm').removeClass('visForm');\n        $('#entrForm').addClass('visForm');\n    });\n\n    $('body').on('click', '#enterReg .erTitle', function(event) {\n        event.preventDefault();\n        if($(window).width() < 720) {\n            if(!$(this).parent().hasClass('wCur')) {\n                $('#enterReg .popupBlock').removeClass('wCur').filter($(this).parent()).addClass('wCur');\n            }\n        }\n    });\n\n\n    //----------------------------------------------------------\n    function asyncLoop(iterations, func, callback) {\n        var index = 0;\n        var done = false;\n        var loop = {\n            next: function() {\n                if (done) {\n                    return;\n                }\n\n                if (index < iterations) {\n                    index++;\n                    func(loop);\n\n                } else {\n                    done = true;\n                    if (typeof callback == 'function') {\n                        callback();\n                    }\n                }\n            },\n\n            iteration: function() {\n                return index - 1;\n            },\n\n            break: function() {\n                done = true;\n                if (typeof callback == 'function') {\n                    callback();\n                }\n            }\n        };\n        loop.next();\n        return loop;\n    }\n\n    function fileToBase(obj) {\n        filesImage = [];\n        var reader = new FileReader();\n        asyncLoop(obj.length, function(loop) {\n            reader.readAsDataURL(obj[loop.iteration()]);\n            reader.onloadend = function() {\n                filesImage.push(reader.result);\n                loop.next();\n            };\n        });\n    }\n\n    $(\"#dropzone\").dropzone({\n        url: \"/\",\n        acceptedFiles: '.jpg, .png, .jpeg, .gif',\n        maxFilesize: 16, //Mb\n        maxFiles: 15,\n        addRemoveLinks: true,\n        thumbnailWidth: 152,\n        thumbnailHeight: 120,\n\n        init: function() {\n            var self = this;\n            this.on(\"maxfilesexceeded\", function(file) {\n                this.removeFile(file);\n            });\n\n            this.on(\"thumbnail\", function(file) {\n                var _self = this;\n                if ($(this.element).closest('.wForm').length) {\n                    var flag = true;\n                    $('.dz-preview').each(function(){\n                        if($(this).hasClass('main')){\n                            flag=false;\n                        }\n                    });\n\n                    if(flag){\n                        $('.dz-preview').eq(0).addClass('main');\n                    }\n\n                    var form = $(this.element).closest('.wForm');\n\n                    jQuery.data(form[0], 'file', {\n                        files: this.getQueuedFiles()\n                    });\n\n                    fileToBase(_self.getQueuedFiles());\n                }\n            });\n\n            this.on(\"removedfile\", function(file) {\n                var _self = this;\n                if ($(this.element).closest('.wForm').length) {\n                    var flag = true;\n                    $('.dz-preview').each(function(){\n                        if($(this).hasClass('main')){\n                            flag=false;\n                        }\n                    });\n                    if(flag){\n                        $('.dz-preview').eq(0).addClass('main');\n                    }\n                    var form = $(this.element).closest('.wForm');\n                    jQuery.data(form[0], 'file', {\n                        files: this.getQueuedFiles()\n                    });\n                    fileToBase(_self.getQueuedFiles());\n                }\n                if (file.status !== 'queued' ) {\n                    $.ajax({\n                        url: '/ajax/removeImageAds',\n                        type: 'POST',\n                        data: {\n                            name: file.name\n                        },\n                        success: function(data) {\n\n                            //console.log('File remove');\n                        }\n                    });\n                }\n            });\n\n            if ($('.editPhoto').length) {\n                var id = $('.editPhoto').data('id');\n\n                $.ajax({\n                    url: '/ajax/getImageAds',\n                    type: 'POST',\n                    dataType: 'JSON',\n                    data: {\n                        id: id\n                    },\n                    success: function(data) {\n                        for (key in data) {\n                            var nameFile = data[key].url.split('/').pop();\n                            var moc = {\n                                name: nameFile,\n                                size: 12345\n                            };\n                            self.emit(\"addedfile\", moc);\n                            self.createThumbnailFromUrl(moc, data[key].url);\n                            self.emit(\"complete\", moc);\n                            if (data[key].main) {\n                                moc.previewElement.className = moc.previewElement.className + ' main';\n                                mainImage = nameFile;\n                            }\n                        }\n                    }\n                });\n            }\n        }\n    });\n\n    $(document).on('click', '.dz-preview', function() {\n        $('.dz-preview').removeClass('main');\n        $(this).addClass('main');\n    });\n\n    function setAddressData(data){\n        $('.address-list').html('');\n        for(var i=0; i < data.length; i++){\n            var item = $('<li data-id=\"' + data[i].id + '\"><span>' + data[i].title + '</span></li>');\n\n            if(data[i].child) {\n                if(data[i].child.length){\n                    var subList = $('<ul class=\"address-sublist\"></ul>');\n\n                    for(var j=0; j < data[i].child.length; j++){\n                        var subItem = $('<li data-id=\"' + data[i].child[j].id + '\"><span>' + data[i].child[j].title + '</span></li>');\n                        subItem.appendTo(subList);\n                    }\n\n                    subList.appendTo(item);\n                    item.addClass('has-child');\n                }\n            }\n\n            item.appendTo('.address-list');\n        }\n\n        $('.address-list').addClass('address-list--visible');\n    }\n\n    $('.address-field').on('keyup', function(e){\n        if($(this).val().length > 2) {\n                var query = $(this).val();\n            $.ajax({\n                url: '/ajax/get_regions_to_add_edit',\n                type: 'POST',\n                dataType: 'JSON',\n                data: {\n                    query: query\n                },\n                success: function(data){\n                    if(data.resp) {\n                        setAddressData(data.resp);\n                    }\n                }\n            });\n\n           /* var response = [\n                {\n                    \"id\": \"1\",\n                    \"title\": \"Город 1\",\n                    \"child\": [\n                        {\"id\": \"2\", \"title\": \"Район 2\"},\n                        {\"id\": \"3\", \"title\": \"Район 3\"},\n                        {\"id\": \"4\", \"title\": \"Район 4\"},\n                        {\"id\": \"5\", \"title\": \"Район 5\"},\n                        {\"id\": \"6\", \"title\": \"Район 6\"},\n                        {\"id\": \"7\", \"title\": \"Район 7\"}\n                    ]\n                },\n                {\n                    \"id\": \"2\",\n                    \"title\": \"Город 2\"\n                },\n                {\n                    \"id\": \"3\",\n                    \"title\": \"Город 3\"\n                },\n                {\n                    \"id\": \"4\",\n                    \"title\": \"Город 4\",\n                    \"child\": [\n                        {\"id\": \"2\", \"title\": \"Район 8\"},\n                        {\"id\": \"3\", \"title\": \"Район 9\"},\n                        {\"id\": \"4\", \"title\": \"Район 10\"},\n                        {\"id\": \"5\", \"title\": \"Район 11\"},\n                        {\"id\": \"6\", \"title\": \"Район 12\"},\n                        {\"id\": \"7\", \"title\": \"Район 13\"}\n                    ]\n                },\n                {\n                    \"id\": \"5\",\n                    \"title\": \"Город 5\"\n                },\n                {\n                    \"id\": \"6\",\n                    \"title\": \"Город 6\"\n                },\n                {\n                    \"id\": \"7\",\n                    \"title\": \"Город 7\"\n                },\n                {\n                    \"id\": \"8\",\n                    \"title\": \"Город 8\"\n                },\n                {\n                    \"id\": \"9\",\n                    \"title\": \"Город 9\"\n                }\n            ];\n\n            if(response) {\n                setAddressData(response);\n            }*/\n        }\n    });\n\n    $('.address-list').on('click', 'li', function(){\n       if(!$(this).hasClass('has-child')){\n           var vl = $(this).text();\n           var id = $(this).attr('data-id');\n\n           if($(this).closest('.has-child').length) {\n               vl = $(this).closest('.has-child').children('span').text() + ', ' + vl;\n           }\n\n           $('.address-field').val(vl);\n           $('#parent_id').val(id);\n\n           $('.address-list').removeClass('address-list--visible');\n\n           $.ajax({\n               url: '/ajax/get_metro',\n               type: 'POST',\n               dataType: 'JSON',\n               data: {\n                   region_id: id\n               },\n               success: function(data){\n                   if(data.success){\n                       $('.metro-list').slideUp(500, function(){\n                           if(data.count > 0){\n                               $('#metro_id').html(data.tpl);\n                               $('.metro-list').slideDown(500);\n                           }\n                       });\n\n                   }\n               }\n           });\n       }\n    });\n\n    $(window).load(function(){\n        wHTML.seoSet();\n        $('.news-item').matchHeight();\n    });\n\n\n    ///\n\n    $('.search-form_link').on('click',function(){\n        var el = $(this);\n        if(el.hasClass('is-active')){\n            el.removeClass('is-active');\n            $('.categories-menu > ul').hide();\n            $('#overlay-hide').hide();\n            wHTML.seoSet();\n        } else{\n            el.addClass('is-active');\n            $('.categories-menu > ul').show();\n            $('#overlay-hide').show();\n\n        }\n    });\n\n    $('#overlay-hide').on('click',function(){\n        if($('.categories-menu > ul').is(':visible')){\n            $('.search-form_link').trigger('click');\n        }\n        if($('.live-results').is(':visible')) {\n            $('.live-results').slideUp();\n            $('#overlay-hide').hide();\n        }\n    });\n\n    $('.categories-menu li').on('mouseover',function(){\n        setTimeout(function(){\n            wHTML.seoSet();\n        },100);\n    });\n\n    $('.categories-menu li').on('mouseout',function(){\n        setTimeout(function(){\n            wHTML.seoSet();\n        },100);\n    });\n\n    $('.js-live').on('keyup',function(){\n        var el = $(this);\n        if(el.val().length > 3){\n            el.closest('.wFormRow').find('.live-results').slideDown();\n            $('#overlay-hide').show();\n        } else{\n            el.closest('.wFormRow').find('.live-results').slideUp();\n            $('#overlay-hide').hide();\n        }\n    });\n\n    $('.js-close').on('click',function(){\n        var el = $(this);\n        el.closest('.fixed-money').fadeOut();\n        $.cookie('hidden-money', 'true');\n    });\n\n        $('.js-Mcat').on('click',function(e){\n            e.preventDefault();\n            var el = $(this);\n            var razd = el.find('.cat-name').text();\n            el.addClass('AMCat');\n            el.closest('.jmain-cats').stop().slideUp(400,function(){\n                $('.js-razd').text(razd);\n                $('.jsub-cats').stop().slideDown();\n            });\n        });\n\n        $('.js-Scat').on('click',function(e){\n            e.preventDefault();\n            var el = $(this);\n            el.addClass('ASCat');\n            el.closest('.jsub-cats').stop().slideUp(400,function(){\n\n                $('.addForm').stop().slideDown();\n            });\n        });\n\n        $('.js-return').on('click',function(){\n            var el = $(this);\n            $('.jsub-cats').find('.AMCat').removeClass('AMCat');\n            el.closest('.jsub-cats').stop().slideUp(400,function(){\n                $('.jmain-cats').stop().slideDown();\n            });\n        });\n\n    $('.js-status').on('click', function(){\n        var el = $(this);\n        var inp = el.find('input');\n        var price = parseInt(inp.data('price'));\n        if(price > 0) {\n            var text = inp.data('text');\n            $('.add-info-window_text span').text(text+\" \");\n            $('.add-info-window_text i').text(price);\n            $('.add-info-window').show();\n        } else{\n            $('.add-info-window').hide();\n        }\n    });\n\n    $('body').on('click','.js-hidden',function(){\n        $(this).hide();\n    });\n\n    $('body').on('click', '.js-skype',function(e){\n        e.preventDefault();\n        var el = $(this);\n        var number = el.data('skype');\n        el.attr('href','call:'+number);\n        el.find('span').text(number);\n    });\n\n    $('body').on('click','.js-writeAdmin',function(){\n        var magnificPopup = $.magnificPopup.instance;\n        magnificPopup.close();\n        $('html, body').animate({\n            scrollTop: $(\"#feedback\").offset().top\n        }, 1000);\n    });\n\n\n    $('body').on('click','.js-problem-popup',function(){\n        var magnificPopup = $.magnificPopup.instance;\n        magnificPopup.close();\n        setTimeout(function(){\n            $('.js-problem').trigger('click');\n        },300);\n    });\n\n    $('body').on('click','.js-add-phone',function(){\n        var el = $(this);\n        var max = el.data('max');\n        var count = $('.jsTel').length;\n\n        if(count < max) {\n            var row = el.closest('.jsTel');\n            var nrow = row.clone();\n            nrow.find('.-warn').removeClass('-warn');\n            nrow.find('.js-add-phone').removeClass('js-add-phone').addClass('js-remove-phone -remove');\n            nrow.insertAfter(row);\n        }\n    });\n\n\n    $('body').on('click','.js-add-skype',function(){\n        var el = $(this);\n        var max = el.data('max');\n        var count = $('.jsSkype').length;\n\n        if(count < max) {\n            var row = el.closest('.jsSkype');\n            var nrow = row.clone();\n            nrow.find('.-warn').removeClass('-warn');\n            nrow.find('.js-add-skype').removeClass('js-add-skype').addClass('js-remove-skype -remove');\n            nrow.insertAfter(row);\n        }\n    });\n\n    $('body').on('click','.js-remove-phone',function(){\n        var el = $(this);\n        el.closest('.js-add').remove();\n    });\n\n    $('body').on('click','.js-remove-skype',function(){\n        var el = $(this);\n        el.closest('.js-add').remove();\n    });\n\n\n    Dropzone.options.myAwesomeDropzone = {\n        autoProcessQueue: false,\n        uploadMultiple: true,\n        parallelUploads: 8,\n        maxFiles: 8,\n        previewsContainer:\".dropzone-previews\",\n        init: function() {\n            var myDropzone = this;\n\n            $(\".submitPhoto\").click(function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                myDropzone.processQueue();\n            });\n        }\n    };\n\n    $(\"#mmenu\").mmenu({\n        \"extensions\": [\n            \"pagedim-black\"\n        ],\n        navbar: {\n            title: \"Меню\"\n        },\n        \"navbars\": [\n            {\n                \"position\": \"bottom\",\n                \"content\": [\n                    \"<div class='currency-list'><span>Валюта:</span><a href='#' class='currency-list_currency is-active'>UAH</a><a href='#' class='currency-list_currency'>RUB</a><a href='#' class='currency-list_currency'>USD</a></div>\"\n                ]\n            }\n        ]\n    });\n\n    $(window).resize(function(){\n        wHTML.seoSet();\n    });\n\n    if($.cookie('hidden-money')) {\n        $('.fixed-money').hide();\n    }\n\n\n});","var closePopup = function( it ) {\n    it.fadeOut(650);\n    setTimeout(function(){\n        it.remove();\n    }, 700);\n};\nvar generate = function( message, type, time ) {\n    var mainBlock = $('#fPopUp');\n    var current;\n    if(!mainBlock.length) {\n        $('<div id=\"fPopUp\"></div>').appendTo('body');\n        mainBlock = $('#fPopUp');\n    }\n    var i = 1;\n    var count = 0;\n    mainBlock.find('.content').each(function(){\n        current = parseInt($(this).data('i'));\n        if(current + 1 > i) {\n            i = current + 1;\n        }\n        count++;\n    });\n    if(count >= 5) {\n        mainBlock.find('div.content:first-child').remove();\n    }\n    $('<div class=\"content ' + type + '\" data-i=\"' + i + '\" style=\"display: none;\">' + message + '</div>').appendTo(mainBlock);\n    mainBlock.find('div.content[data-i=\"' + i + '\"]').fadeIn(200);\n    if(time) {\n        setTimeout(function(){\n            closePopup(mainBlock.find('div.content[data-i=\"' + i + '\"]'));\n        }, time);\n    }\n};\n\n$(function(){\n    $('body').on('click', '#fPopUp div.content', function(){ closePopup($(this)); });\n\n    if( $('ul.color_c').length ) {\n        $('ul.color_c input').each(function(){\n            if ($(this).prop('disabled')) {\n                $(this).closest('li').css('opacity', '0.2');\n                $(this).closest('li').find('ins').css('border', '0');\n                $(this).css('cursor', 'auto');\n            }\n        });\n        $('ul.color_c a').on('click', function(){\n            window.location.href = $(this).attr('href');\n        });\n    }\n\n    var v1 = parseInt($(\"#amount\").val(),10);\n    var v2 = parseInt($(\"#amount2\").val(),10);\n    var min = parseInt($(\"#amount\").data('cost'),10);\n    var max = parseInt($(\"#amount2\").data('cost'),10);\n\n    if ($(\".price_ui\").length) {\n        \n        var slider = $(\"#slider-range\").slider({\n            range: true,\n            min: min,\n            max: max,\n            step: 1,\n            values: [v1, v2],\n            slide: function(event, ui) {\n                $(\"#amount\").val(ui.values[0]);\n                $(\"#amount2\").val(ui.values[1]);\n            }\n        });\n        $(\"#amount\").val($(\"#slider-range\").slider(\"values\", 0));\n        $(\"#amount2\").val($(\"#slider-range\").slider(\"values\", 1));\n\n        $(\"#amount\").ForceNumericOnly();\n        $(\"#amount2\").ForceNumericOnly();\n\n        $(\"#amount\").keyup(function() {\n            if ($(\"#amount2\").val().length < 1) {\n                slider.slider(\"values\", [$(this).val(), min]);\n            } else {\n                if (parseInt($(\"#amount2\").val()) < parseInt($(this).val())) {\n                    return false;\n                } else {\n                    slider.slider(\"values\", [$(this).val(), $(\"#amount2\").val()]);\n                }\n            }\n        });\n\n        $(\"#amount2\").keyup(function() {\n            if ($(\"#amount\").val().length < 1) {\n                slider.slider(\"values\", [0, $(this).val()]);\n            } else {\n                if (parseInt($(\"#amount\").val()) > parseInt($(this).val())) {\n                    return false;\n                } else {\n                    slider.slider(\"values\", [$(\"#amount\").val(), $(this).val()]);\n                }\n            }\n        });\n\n        $(\"#amount2\").blur(function(){\n            if($(\"#amount2\").val() < $(\"#amount\").val()) {\n               $(\"#amount2\").val($(\"#amount\").val());\n                slider.slider(\"values\", [$(\"#amount\").val(), $(\"#amount\").val()]);\n            }\n        });\n\n        $(\"#amount\").blur(function(){\n            if($(\"#amount\").val() < min) {\n               $(\"#amount\").val(min);\n                slider.slider(\"values\", [min, $(\"#amount2\").val()]);\n            }\n        });\n\n        $(\"input[type='reset']\").on('click', function() {\n            slider.slider(\"values\", [min, max]);\n        });\n\n        $(\"input[type='reset']\").on('mouseenter', function() {\n            $(\".reset_but span\").css('border-bottom','1px dotted #ccc');\n        });\n\n        $(\"input[type='reset']\").on('mouseleave', function() {\n            $(\".reset_but span\").css('border-bottom','transparent');\n        });\n\n    }\n\n    $('.enterReg5').on('click', function(){\n        var id = $(this).data('id');\n        $('#idFastOrder').val(id);\n    });\n\n    if($(\".prevue_block\").length) {\n        $(\".prevue_block\").on('click', '.img_prevue', function() {\n            var src_img = $(this).attr('data-img-src');\n            var src_img_original = $(this).attr('data-img-src-original');\n            $(\".big_prevue\").find(\"img\").attr('src',src_img);\n            $(\".big_prevue\").attr('href',src_img_original);\n        });\n    }\n\n    if( $('.lk_menu').length ) {\n        var h1 = $('.lk_menu').height();\n        var h2 = $('.lk_content').height();\n        if( h1 > h2 ) {\n            $('.lk_content').height( h1 );\n        }\n        if( h2 > h1 ) {\n            $('.lk_menu').height( h2 );\n        }\n    }\n\n    /// CART START\n    var setTopCartCount = function(count){\n        $('#topCartCount').text(count);\n    };\n    $('.addToCart').on('click', function(e){\n        e.preventDefault();\n        var it = $(this);\n        var id = it.data('id');\n        $.ajax({\n            url: '/ajax/addToCart',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                id: id\n            },\n            success: function(data){\n                if( data.success ) {\n                    var html = '';\n                    var item;\n                    var count = 0;\n                    var amt;\n                    var amount = 0;\n                    for( var i = 0; i < data.cart.length; i++ ) {\n                        item = data.cart[i];\n                        amt = parseInt( item.count ) * parseInt( item.cost );\n                        html += '<li class=\"wb_item\" data-id=\"'+item.id+'\" data-count=\"'+item.count+'\" data-price=\"'+item.cost+'\">';\n                        html += '<div class=\"wb_li\">';\n                        if ( item.image ) {\n                            html += '<div class=\"wb_side\"><div class=\"wb_img\">';\n                            html += '<a href=\"/'+item.alias+'/p'+item.id+'\" class=\"wbLeave\"><img src=\"'+item.image+'\" /></a>';\n                            html += '</div></div>';\n                        }\n                        html += '<div class=\"wb_content\">';\n                        html += '<div class=\"wb_row\">';\n                        html += '<div class=\"wb_del\"><span title=\"Удалить товар\">Удалить товар</span></div>';\n                        html += '<div class=\"wb_ttl\"><a href=\"/'+item.alias+'/p'+item.id+'\" class=\"wbLeave\">'+item.name+'</a></div>';\n                        html += '</div>';\n                        html += '<div class=\"wb_cntrl\">';\n                        html += '<div class=\"wb_price_one\"><p><span>'+item.cost+'</span> грн.</p></div>';\n                        html += '<div class=\"wb_amount_wrapp\">';\n                        html += '<div class=\"wb_amount\">';\n                        html += '<input type=\"text\" value=\"'+item.count+'\">';\n                        html += '<span data-spin=\"plus\"></span>';\n                        html += '<span data-spin=\"minus\"></span>';\n                        html += '</div>';\n                        html += '</div>';\n                        html += '<div class=\"wb_price_totl\"><p><span>'+amt+'</span> грн.</p></div>';\n                        html += '</div>';\n                        html += '</div>';\n                        html += '</div>';\n                        html += '</li>';\n                        amount += amt;\n                        count += parseInt( item.count );\n                    }\n                    $('#topCartList').html(html);\n                    $('#topCartAmount').html(amount);\n                    setTopCartCount(count);\n                }\n                $('.wb_edit_init').click();\n            }\n        });\n    });\n    /// CART END\n\n    /// Remove social netqork from pc\n    $('.deleteConnection').on('click', function(){\n        var id = $(this).data('id');\n        $.ajax({\n            url: '/ajax/removeConnection',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                id: id\n            },\n            complete: function(data){\n                window.location.reload();\n            }\n        });\n    });\n\n    $('body').on('click','.all_ukraine', function(event){\n        event.preventDefault();\n        $('.search-form_location').text('Выберите регион');\n        $.cookie('region_id', null);\n        $('.location-list').removeClass('location-list--visible');\n        $('#region_id').val('');\n    });\n\n    $('body').on('click','.to_regions', function(event){\n        event.preventDefault();\n        $('.search-form_location').text('Выберите регион');\n        $.cookie('region_id', null);\n        $('#region_id').val('');\n        $.ajax({\n            url: '/ajax/getRegionsToSearch',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                type: 1,\n            },\n            success: function(data){\n                if(data.success) {\n                    setLocationData(data.result,data.type, data.top_text,data.top_class,data.last_id);\n                } else {\n                    $('.location-list').removeClass('location-list--visible');\n                }\n            }\n        });\n        $('.location-list').removeClass('location-list--visible');\n    });\n\n    $('body').on('click','.to_cities', function(event){\n        event.preventDefault();\n        $('.search-form_location').text($('.location-list_title').text().substring(4,$('.location-list_title').text().length));\n        var id = $(this).attr('data-last_id');\n        $.cookie('region_id', id);\n        $('#region_id').val(id);\n        $.ajax({\n            url: '/ajax/getRegionsToSearch',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                id: id,\n            },\n            success: function(data){\n                if(data.success) {\n                    setLocationData(data.result,data.type, data.top_text,data.top_class,data.last_id);\n                } else {\n                    $('.location-list').removeClass('location-list--visible');\n                }\n            }\n        });\n        $('.location-list').removeClass('location-list--visible');\n    });\n\n    function setLocationData(data, type, top_text, top_class, last_id){\n        $('.location-list_wrap').html('');\n\n        $('.location-list_title').text(top_text);\n        $('.location-list_title').closest('.top_text').removeClass('all_ukraine');\n        $('.location-list_title').closest('.top_text').removeClass('to_regions');\n        $('.location-list_title').closest('.top_text').removeClass('to_cities');\n        $('.location-list_title').closest('a').addClass(top_class);\n        $('.location-list_title').closest('a').attr('data-type', type);\n        $('.location-list_title').closest('a').attr('data-last_id', last_id);\n\n        for(var i=0; i < data.length; i++){\n            var cl = '';\n            if(data[i].count_childs > 0){\n                cl = 'has_childs';\n            }\n            var item = $('<div class=\"location-list_item '+cl+'\" data-id=\"' + data[i].id + '\">' + data[i].name + '</div>');\n            item.appendTo('.location-list_wrap');\n        }\n\n        $('.location-list').addClass('location-list--visible');\n    }\n\n    $('body').on('click', '.location-list_item', function(){\n        var id = $(this).data('id');\n        var title = $(this).text();\n        $('.search-form_location').text(title);\n        $.cookie('region_id', id);\n        $('#region_id').val(id);\n        if(!$(this).hasClass('has_childs')){\n            $('.location-list').removeClass('location-list--visible');\n            return false;\n        }\n\n        $.ajax({\n            url: '/ajax/getRegionsToSearch',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                id: id\n            },\n            success: function(data){\n                if(data.success) {\n                    setLocationData(data.result,data.type, data.top_text,data.top_class,data.last_id);\n                } else {\n                    $('.location-list').removeClass('location-list--visible');\n                }\n            }\n        });\n\n        $('.location-list').removeClass('location-list--visible');\n\n\n    });\n\n    $('body').on('click', '.add_to_wish_list',function(event){\n        event.preventDefault();\n        var id= $(this).attr('data-id');\n        $.ajax({\n            url: '/ajax/add_to_wish_list_base',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                id: id\n            },\n            success: function(data){\n                if(data.success){\n                    generate(data.response,'success');\n                } else {\n                    generate(data.response,'warning');\n                }\n            }\n        });\n    });\n\n    $('.base_review_pager').on('click',function(event){\n        event.preventDefault();\n       var page = $(this).attr('data-page');\n        var id = $('#base_id').val();\n        var t = $(this);\n        $.ajax({\n            url: '/ajax/get_reviews',\n            type: 'POST',\n            dataType: 'JSON',\n            data: {\n                page: page,\n                id: id\n            },\n            success: function(data){\n                if(data.success){\n                    $('.comments').slideUp(500,function(){\n                        $('.comments').html(data.tpl);\n                        $('.comments').slideDown(500);\n                        $('.base_review_pager').removeClass('curr');\n                        t.addClass('curr');\n                    });\n                } else {\n                    generate(data.response,'warning');\n                }\n            }\n        });\n    });\n});\n"],"sourceRoot":"/source/"}